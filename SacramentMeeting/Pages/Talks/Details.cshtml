@page
@model SacramentMeeting.Pages.Talks.DetailsModel

@{
    ViewData["Title"] = "Edit Meeting | Talks";
}
<h2>Edit Talks</h2>

<div class="col-md-12 meeting-display">
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Meeting.MeetingDate)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Meeting.MeetingDate)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Meeting.Calling)
        </dt>
        <dd>
            <span class="meeting-title">@Html.DisplayFor(model => model.Meeting.Calling.Title):</span>@foreach (var item in Model.Meeting.Calling.CurrentCallings)
            {@Html.DisplayFor(model => item.Member.FullName)}
        </dd>
        <dd></dd>
        <dt>
            @Html.DisplayNameFor(model => model.Meeting.Prayers)
        </dt>

        @foreach (var item in Model.Meeting.Prayers)
        {
            <dd>
                <span class="meeting-title">@item.Schedule Prayer:</span>@item.Member.FullName<br />
            </dd>

        }
        <dd></dd>

        <dt>
            @Html.DisplayNameFor(model => model.Meeting.SongSelections)
        </dt>
        @foreach (var item in Model.Meeting.SongSelections)
        {
            <dd>
                <span class="meeting-title">@item.Schedule Song:</span><span class="meeting-song">#@item.SongID </span>@item.Song.Title
            </dd>
        }
        <dd></dd>
        <dt>
            @Html.DisplayNameFor(model => model.Meeting.Talks)
        </dt>
        @foreach (var item in Model.Meeting.Talks)
        {
            <dd>
                <span class="meeting-title">Speaker:</span>@item.Member.FullName<span class="meeting-speaker">Topic: @item.Topic</span>
            </dd>
        }
    </dl>
    </div>
<hr />
<div class="col-md-12">
    <h4>Talks</h4>
    <table class="table">
        <thead>
            <tr>
                <th>Member Assigned</th>
                <th>Topic</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var talk in Model.Meeting.Talks)
            {
                <tr>
                    <td>@talk.Member.FullName</td>
                    <td>@talk.Topic</td>
                    <td>
                        <a asp-page="./Edit" asp-route-id="@talk.TalkID" class="btn btn-default">Edit</a> |
                        <a asp-page="./Delete" asp-route-id="@talk.TalkID" class="btn btn-default">Delete</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<div>
    <a asp-page="../Meetings/Edit" asp-route-id="@Model.Meeting.MeetingID" asp-route-edit="true" class="btn btn-default">Back</a>
    
    <a asp-page="./Create" asp-route-id="@Model.Meeting.MeetingID" asp-route-edit="true" class="btn btn-default">Add Talk</a>
    
</div>
<div class="done-link"> <a asp-page="../Meetings/Details" asp-route-id="@Model.Meeting.MeetingID">Done Editing Meeting</a></div>

